import { useRouter } from "next/router";

export default function Search(props: string) {
    const router = useRouter();

    const {
        page = '1',
        searchQuery = '',
        category= "smartphone"
    } = router.query;

    const {categories, products} : any = props;

    const filterSearch = ({
        page,
        searchQuery,
        category
    }: any) => {
        const { query } = router;

        if (page) query.page = page;
        if (searchQuery) query.searchQuery = searchQuery;
        if (category) query.category = category;

        router.push({
            pathname: router.pathname,
            query: query,
        })

        const categoryHandler = (e: any) => {
            filterSearch({category : e.target.value})
        }
    };
}